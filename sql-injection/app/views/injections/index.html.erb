<div class="max-w-5xl mx-auto p-6">
  <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Demonstracja SQL Injection w Ruby on Rails</h1>

  <p class="text-gray-700 mb-4 text-center">
    Poniżej znajdziesz listę metod Active Record, które mogą być podatne na SQL Injection. Kliknij wybraną metodę, aby zobaczyć wygenerowane zapytanie SQL i wynik.
  </p>

  <p class="text-gray-600 text-center mb-6">
    Przykłady podatności pochodzą ze strony:
    <a href="https://rails-sqli.org/" class="text-sky-600 font-semibold underline">https://rails-sqli.org/</a>
  </p>

  <div class="overflow-x-auto">
    <table class="min-w-full bg-gray-100 rounded-lg shadow-md">
      <thead>
        <tr class="bg-gray-200 text-gray-700 text-left">
          <th class="py-3 px-4">Rodzaj</th>
          <th class="py-3 px-4">Kod</th>
          <th class="py-3 px-4">Link</th>
        </tr>
      </thead>
      <tbody>
        <% [
          ["Calculation", "Order.calculate", injections_calculation_path],
          ["Delete By", "User.delete_by", injections_delete_by_path],
          ["Destroy By", "User.destroy_by", injections_destroy_by_path],
          ["Exists?", "User.exists?", injections_exists_path],
          ["Find By", "User.find_by", injections_find_by_path],
          ["From", "User.from(...)", injections_from_path],
          ["Group", "User.where(...).group(...)", injections_group_path],
          ["Having", "Order.where(...).group(...).having(...)", injections_having_path],
          ["Joins", "Order.joins(...)", injections_joins_path],
          ["Not", "User.where.not(...)", injections_not_path],
          ["Select", "User.select(...)", injections_select_path],
          ["Where", "User.where(...)", injections_where_path],
          ["Update All", "User.update_all(...)", injections_update_all_path]
        ].each do |type, code, path| %>
          <tr class="border-b border-gray-300 hover:bg-gray-200">
            <td class="py-3 px-4 text-gray-800 font-medium"><%= type %></td>
            <td class="py-3 px-4 font-mono text-gray-700"><%= code %></td>
            <td class="py-3 px-4">
              <a href="<%= path %>" class="text-blue-500 hover:underline">Zobacz</a>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
